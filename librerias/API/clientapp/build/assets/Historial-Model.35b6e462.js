import{g as y,i as b,h as C,r as n,am as D,a as I,b as j,d as r,G as o,j as e,B as i,T as a,an as h,L as $,a2 as Y,Y as J}from"./index.ad9b7e92.js";import{C as T,a as w,b as z}from"./CardHeader.67279b64.js";import{S as X}from"./SinInformacion.9e7bb934.js";import{d as Z}from"./DeleteOutlineOutlined.6e9278a5.js";import{T as ee,a as H}from"./Tabs.f8373235.js";import{S as te}from"./Stack.9bed6c39.js";var A={},re=b.exports;Object.defineProperty(A,"__esModule",{value:!0});var G=A.default=void 0,ae=re(y()),ne=C,ie=(0,ae.default)((0,ne.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"ExitToApp");G=A.default=ie;const oe=(t,f,x)=>{const{storeUsuario:v}=n.exports.useContext(D),[s,c]=n.exports.useState({isDelete:!1,isNew:!0}),[d,g]=n.exports.useState([]),u=async()=>{const l={metodo:`Auditoria/auditoriaGeneral?idTipoAuditoria=${t}&documento=${v.user.idEmpresa}&isDelete=${s.isDelete}&isNew=${s.isNew}`,type:I.GET},m=await j(l);g(m)};return n.exports.useEffect(()=>(u(),()=>{}),[s]),{stateAuditoria:d,setStateTipo:c}};var R={},le=b.exports;Object.defineProperty(R,"__esModule",{value:!0});var M=R.default=void 0,se=le(y()),ce=C,de=(0,se.default)((0,ce.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDownOutlined");M=R.default=de;var V={},ue=b.exports;Object.defineProperty(V,"__esModule",{value:!0});var S=V.default=void 0,me=ue(y()),fe=C,ve=(0,me.default)((0,fe.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"}),"KeyboardArrowUpOutlined");S=V.default=ve;var E={},pe=b.exports;Object.defineProperty(E,"__esModule",{value:!0});var L=E.default=void 0,he=pe(y()),xe=C,ge=(0,he.default)((0,xe.jsx)("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zm0-12H5V6h14v2zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"}),"CalendarMonthOutlined");L=E.default=ge;var q={},ye=b.exports;Object.defineProperty(q,"__esModule",{value:!0});var Q=q.default=void 0,be=ye(y()),Ce=C,$e=(0,be.default)((0,Ce.jsx)("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}),"RedoOutlined");Q=q.default=$e;var P={},_e=b.exports;Object.defineProperty(P,"__esModule",{value:!0});var K=P.default=void 0,De=_e(y()),Ie=C,je=(0,De.default)((0,Ie.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}),"UndoOutlined");K=P.default=je;var k={},Me=b.exports;Object.defineProperty(k,"__esModule",{value:!0});var O=k.default=void 0,Se=Me(y()),Le=C,Oe=(0,Se.default)((0,Le.jsx)("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}),"PersonOutlineOutlined");O=k.default=Oe;const N=({_detalleAuditoria:t})=>r(o,{container:!0,spacing:1,justifyContent:"space-around",children:[r(o,{item:!0,xs:2.9,display:"flex",alignItems:"center",children:[e(O,{color:"primary"}),r(i,{ml:1,display:"flex",alignItems:"",flexDirection:"column",justifyContent:"",children:[e(a,{variant:"subtitle2",children:"Usuario "}),e(a,{variant:"body1",children:t.nameUsuario})]})]}),e(h,{orientation:"vertical",flexItem:!0}),r(o,{item:!0,xs:2.9,display:"flex",alignItems:"center",children:[e(L,{color:"disabled"}),r(i,{ml:1,display:"flex",alignItems:"",flexDirection:"column",justifyContent:"",children:[e(a,{variant:"subtitle2",children:"Fecha modificacion "}),r(a,{variant:"body1",children:[" ",t.fecha+" "+t.hora]})]})]}),e(h,{orientation:"vertical",flexItem:!0}),r(o,{item:!0,xs:2.9,display:"flex",alignItems:"center",children:[e(Q,{color:"success"}),r(i,{ml:1,display:"flex",alignItems:"",flexDirection:"column",justifyContent:"",children:[e(a,{variant:"subtitle2",children:"Valor nuevo "}),e(a,{variant:"body1",children:t.valores.new})]})]}),e(h,{orientation:"vertical",flexItem:!0}),r(o,{item:!0,xs:2.9,display:"flex",alignItems:"center",children:[e(K,{color:"primary"}),r(i,{ml:1,display:"flex",alignItems:"",flexDirection:"column",justifyContent:"",children:[e(a,{variant:"subtitle2",children:"Valor anterior "}),e(a,{variant:"body1",children:t.valores.old})]})]})]}),He=({auditoria:t,_tipoAuditoria:f})=>{const{storeUsuario:x}=n.exports.useContext(D),[v,s]=n.exports.useState([]),[c,d]=n.exports.useState(!1),[g,u]=n.exports.useState(!1),l=async()=>{u(!0);const p={metodo:`Auditoria/AuditCampoDetalle?nameSQl=${t.glosario.nombreSQL}&nameHMTL=${t.glosario.nombreHTML}&idTipoAuditoria=${f}&documento=${x.user.idEmpresa}&isDelete=false&isNew=false`,type:I.GET},_=await j(p);s(_),d(!0),u(!1)},m=()=>t.countVerMas>1?c?e($,{variant:"text",onClick:()=>d(!1),endIcon:e(S,{color:"primary"}),children:"Ver menos"}):e($,{variant:"text",onClick:l,endIcon:e(M,{color:"primary"}),loading:g,loadingPosition:"end",children:"Ver m\xE1s"}):e(a,{variant:"subtitle2",color:"primary",mt:.5,children:"No hay mas registros"});return r(T,{variant:"outlined",sx:{backgroundColor:"#FBFBFB"},children:[e(w,{title:e(a,{fontWeight:600,color:"primary",children:t.glosario.nombreHTML}),action:m(),sx:{margin:"2px 6px !important",padding:"2px 6px !important"}}),e(h,{orientation:"horizontal",flexItem:!0}),e(z,{children:c?v.map(p=>e(i,{mb:1,children:e(N,{_detalleAuditoria:p})})):e(N,{_detalleAuditoria:t})})]})};var U={},Te=b.exports;Object.defineProperty(U,"__esModule",{value:!0});var W=U.default=void 0,we=Te(y()),ze=C,Ae=(0,we.default)((0,ze.jsx)("path",{d:"M22 5.18 10.59 16.6l-4.24-4.24 1.41-1.41 2.83 2.83 10-10L22 5.18zM12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8c1.57 0 3.04.46 4.28 1.25l1.45-1.45C16.1 2.67 14.13 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10c1.73 0 3.36-.44 4.78-1.22l-1.5-1.5c-1 .46-2.11.72-3.28.72zm7-5h-3v2h3v3h2v-3h3v-2h-3v-3h-2v3z"}),"AddTaskOutlined");W=U.default=Ae;const F=({detalleAudit:t})=>r(o,{container:!0,spacing:1,justifyContent:"space-around",children:[r(o,{item:!0,xs:3,display:"flex",alignItems:"center",children:[e(O,{color:"success"}),r(i,{ml:1,display:"flex",alignItems:"",flexDirection:"column",justifyContent:"",children:[e(a,{variant:"subtitle2",children:"Usuario "}),e(a,{variant:"body1",children:t.nameUsuario})]})]}),e(h,{orientation:"vertical",flexItem:!0}),r(o,{item:!0,xs:3,display:"flex",alignItems:"center",children:[e(W,{color:"success"}),r(i,{ml:1,display:"flex",alignItems:"",flexDirection:"column",justifyContent:"",children:[e(a,{variant:"subtitle2",children:"Valor agregado "}),e(a,{variant:"body1",children:t.valores.new})]})]}),e(h,{orientation:"vertical",flexItem:!0}),r(o,{item:!0,xs:3,display:"flex",alignItems:"center",children:[e(L,{color:"disabled"}),r(i,{ml:1,display:"flex",alignItems:"",flexDirection:"column",justifyContent:"",children:[e(a,{variant:"subtitle2",children:"Fecha de inserci\xF3n "}),r(a,{variant:"body1",children:[" ",t.fecha+" "+t.hora]})]})]})]}),Re=({auditoria:t,_tipoAuditoria:f})=>{const{storeUsuario:x}=n.exports.useContext(D),[v,s]=n.exports.useState([]),[c,d]=n.exports.useState(!1),[g,u]=n.exports.useState(!1),l=async()=>{u(!0);const p={metodo:`Auditoria/AuditCampoDetalle?nameSQl=${t.glosario.nombreSQL}&nameHMTL=${t.glosario.nombreHTML}&idTipoAuditoria=${f}&documento=${x.user.idEmpresa}&isDelete=false&isNew=true`,type:I.GET},_=await j(p);s(_),d(!0),u(!1)},m=()=>t.countVerMas>1?c?e($,{variant:"text",onClick:()=>d(!1),endIcon:e(S,{color:"success"}),color:"success",children:"Ver menos"}):e($,{variant:"text",onClick:l,endIcon:e(M,{color:"success"}),loading:g,loadingPosition:"end",color:"success",children:"Ver m\xE1s"}):e(a,{variant:"subtitle2",color:"primary",mt:.5,children:"No hay mas registros"});return r(T,{variant:"outlined",sx:{backgroundColor:"#d8ffd826 !important"},children:[e(w,{title:e(a,{fontWeight:600,color:"",children:t.glosario.nombreHTML}),action:m(),sx:{margin:"2px 6px !important",padding:"2px 6px !important"}}),e(h,{orientation:"horizontal",flexItem:!0}),e(z,{children:c?v.map(p=>r(i,{mb:1,children:["  ",e(F,{detalleAudit:p})]})):e(F,{detalleAudit:t})})]},t.documento+t.glosario.nombreHTML)},B=({_detalleAuditoria:t})=>r(o,{container:!0,spacing:1,justifyContent:"space-around",children:[r(o,{item:!0,xs:3,display:"flex",alignItems:"center",children:[e(O,{color:"error"}),r(i,{ml:1,display:"flex",alignItems:"",flexDirection:"column",justifyContent:"",children:[e(a,{variant:"subtitle2",children:"Usuario "}),e(a,{variant:"body1",children:t.nameUsuario})]})]}),e(h,{orientation:"vertical",flexItem:!0}),r(o,{item:!0,xs:3,display:"flex",alignItems:"center",children:[e(Z,{color:"error"}),r(i,{ml:1,display:"flex",alignItems:"",flexDirection:"column",justifyContent:"",children:[e(a,{variant:"subtitle2",children:"Valor eliminado "}),e(a,{variant:"body1",children:t.valores.old})]})]}),e(h,{orientation:"vertical",flexItem:!0}),r(o,{item:!0,xs:3,display:"flex",alignItems:"center",children:[e(L,{color:"disabled"}),r(i,{ml:1,display:"flex",alignItems:"",flexDirection:"column",justifyContent:"",children:[e(a,{variant:"subtitle2",children:"Fecha de eliminaci\xF3n "}),r(a,{variant:"body1",children:[" ",t.fecha+" "+t.hora]})]})]})]}),Ve=({auditoria:t,_tipoAuditoria:f})=>{const{storeUsuario:x}=n.exports.useContext(D),[v,s]=n.exports.useState([]),[c,d]=n.exports.useState(!1),[g,u]=n.exports.useState(!1),l=async()=>{u(!0);const p={metodo:`Auditoria/AuditCampoDetalle?nameSQl=${t.glosario.nombreSQL}&nameHMTL=${t.glosario.nombreHTML}&idTipoAuditoria=${f}&documento=${x.user.idEmpresa}&isDelete=true&isNew=false`,type:I.GET},_=await j(p);s(_),d(!0),u(!1)},m=()=>t.countVerMas>1?c?e($,{variant:"text",onClick:()=>d(!1),endIcon:e(S,{color:"inherit"}),color:"inherit",children:"Ver menos"}):e($,{variant:"text",onClick:l,endIcon:e(M,{color:"inherit"}),loading:g,loadingPosition:"end",color:"inherit",children:"Ver m\xE1s"}):e(a,{variant:"subtitle2",color:"primary",mt:.5,children:"No hay mas registros"});return r(T,{variant:"outlined",sx:{backgroundColor:"rgb(255 228 228 / 12%)"},children:[e(w,{title:e(a,{fontWeight:600,color:"",children:t.glosario.nombreHTML}),action:m(),sx:{margin:"2px 6px !important",padding:"2px 6px !important"}}),e(h,{orientation:"horizontal",flexItem:!0}),e(z,{children:c?v.map(p=>r(i,{mb:1,children:[" ",e(B,{_detalleAuditoria:p})]})):e(B,{_detalleAuditoria:t})})]})},Be=({onClose:t,_tipoAuditoria:f})=>{const{stateAuditoria:x,setStateTipo:v}=oe(f),[s,c]=n.exports.useState(0),d=(l,m)=>{m==0&&v({isDelete:!1,isNew:!0}),m==1&&v({isDelete:!1,isNew:!1}),m==2&&v({isDelete:!0,isNew:!1}),c(m)},g=()=>{t(!1)},u=l=>{switch(s){case 0:return e(Re,{auditoria:l,_tipoAuditoria:f});case 1:return e(He,{auditoria:l,_tipoAuditoria:f});case 2:return e(Ve,{auditoria:l,_tipoAuditoria:f})}};return r(i,{m:2,mt:1,children:[r(o,{container:!0,position:"sticky",top:60,sx:{backgroundColor:"white"},children:[e(o,{item:!0,xl:10,lg:10,children:r(ee,{value:s,onChange:d,sx:{borderBottom:1,borderColor:"divider"},"aria-label":"",children:[e(H,{label:"Agregado"},"tabAgregado"),e(H,{label:"Modificado"},"tabModificado"),e(H,{label:"Eliminado"},"tabEliminado")]})}),e(o,{item:!0,xl:2,lg:2,children:e(i,{display:"flex",justifyContent:"end",children:r(Y,{variant:"text",onClick:g,children:[" ",e(G,{sx:{mr:"8px"}}),"Salir del historial"]})})})]}),e(i,{mt:2,ml:25,mr:25,sx:{overflow:"auto",maxHeight:"calc(100vh - 15rem)"},children:e(te,{m:2,spacing:2,children:x.length!=0?x.map(l=>r(J,{children:[" ",u(l)]})):e(i,{mt:2,justifyContent:"center",display:"flex",children:e(X,{})})})})]})};var Ee=(t=>(t.InformacionGeneral="1",t.RepresentanteLegal="2",t.ResponsablePedidos="3",t.Responsablecontratos="4",t.ResponsableActas="5",t.Comercial="6",t.Cartera="7",t.CamaraComercio="8",t))(Ee||{});export{Be as H,Ee as T};
